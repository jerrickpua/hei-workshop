<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">

	<title>reveal.js - The HTML Presentation Framework</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700">
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
	<link rel="stylesheet" href="/controldeck/reveal.js/css/reveal.css">
	<link rel="stylesheet" href="/controldeck/reveal.js/css/theme/night.css" id="theme">
  <link rel="stylesheet" href="/controldeck/reveal.js/lib/css/zenburn.css">
  <link rel="stylesheet" href="/controldeck/app.css">

</head>
<body id="body">
  <div class="toro-io">
    <a href="https://www.toro.io/" target="_blank" class="toro-io-heading">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 653.8 117.6" xml:space="preserve" enable-background="new 0 0 653.8 117.6">
        <path class="st0" d="M38.5 31.4h-29V12.1h78.9v19.3h-29v75.9H38.5V31.4zM205.1 12.1h43.5c12.1 0 21.5 3.4 27.7 9.7 5.3 5.3 8.2 12.8 8.2 21.8v0.3c0 15.4-8.3 25-20.4 29.5l23.2 34h-24.5l-20.4-30.5H226v30.5h-20.9V12.1zM247.2 58.3c10.2 0 16-5.4 16-13.5v-0.3c0-9-6.3-13.6-16.5-13.6H226v27.3H247.2z"/><rect x="456.2" y="10.6" class="st0" width="1" height="98.2"/><path class="st0" d="M481.2 17.5h-5.6v-3.4h15.2v3.4h-5.6v15.1h-4.1V17.5zM508.7 25.6c0 5-3 7.5-7.9 7.5 -5 0-7.9-2.4-7.9-7.5V14.1h4.1v11.5c0 2 0.5 4 3.8 4 2.9 0 3.8-1.2 3.8-4V14.1h4.1V25.6zM512.2 14.1h10c3.3 0 5.4 2.3 5.4 5.1 0 2.2-0.9 3.8-2.9 4.7v0.1c2 0.5 2.6 2.4 2.7 4.3 0.1 1.2 0 3.4 0.8 4.4h-4.1c-0.5-1.2-0.4-3-0.7-4.4 -0.3-1.9-1-2.8-3.1-2.8h-4.1v7.3h-4.1V14.1zM516.3 22.5h4.5c1.8 0 2.8-0.8 2.8-2.7 0-1.8-1-2.6-2.8-2.6h-4.5V22.5zM531 14.1h4.1l7.8 12.5h0.1V14.1h3.8v18.6h-4.1l-7.7-12.4h-0.1v12.4H531V14.1zM550.2 14.1h4.1v7.7l7.3-7.7h5.1l-7.3 7.3 8 11.2h-5.1l-5.6-8.3 -2.3 2.4v6h-4.1V14.1zM569 14.1h13.9v3.4h-9.8v4h9v3.2h-9v4.5h10v3.4H569V14.1zM590.7 25.4l-6.8-11.3h4.6l4.3 7.3 4.3-7.3h4.6l-6.9 11.4v7.1h-4.1V25.4zM485.4 37.7c5.7 0 9.1 4.3 9.1 9.8 0 5.4-3.4 9.6-9.1 9.6 -5.7 0-9.1-4.3-9.1-9.6C476.2 42 479.6 37.7 485.4 37.7zM485.4 53.7c3.7 0 5-3.1 5-6.2 0-3.3-1.4-6.4-5-6.4 -3.7 0-5 3.1-5 6.4C480.3 50.6 481.7 53.7 485.4 53.7zM497.3 38.1h4.1l7.8 12.5h0.1V38.1h3.8v18.6h-4.1l-7.7-12.4h-0.1v12.4h-3.8V38.1zM516.5 38.1h4.1v15.1h9v3.4h-13.1V38.1zM532 38.1h4.1v18.6H532V38.1zM539.6 38.1h4.1l7.8 12.5h0.1V38.1h3.8v18.6h-4.1l-7.7-12.4h-0.1v12.4h-3.8V38.1zM558.9 38.1h13.9v3.4H563v4h9v3.2h-9v4.6h10v3.4h-14.1V38.1zM477 62.2h10c3.3 0 5.4 2.3 5.4 5.1 0 2.2-0.9 3.8-2.9 4.7V72c2 0.5 2.6 2.4 2.7 4.3 0.1 1.2 0 3.4 0.8 4.4H489c-0.5-1.2-0.4-3-0.7-4.4 -0.3-1.9-1-2.8-3.1-2.8h-4.1v7.3H477V62.2zM481.1 70.6h4.5c1.8 0 2.8-0.8 2.8-2.7 0-1.8-1-2.6-2.8-2.6h-4.5V70.6zM495.8 62.2h13.9v3.4h-9.8v4h9v3.2h-9v4.5h10v3.4h-14.1V62.2zM516.8 65.6h-5.6v-3.4h15.2v3.4h-5.6v15.1h-4.1V65.6zM533.6 62.2h4.2l6.9 18.6h-4.2l-1.4-4.1h-6.9l-1.5 4.1h-4.1L533.6 62.2zM533.2 73.6h4.8l-2.3-6.8h-0.1L533.2 73.6zM546.4 62.2h4.1v18.6h-4.1V62.2zM554 62.2h4.1v15.1h9v3.4H554V62.2zM485.4 85.8c5.7 0 9.1 4.3 9.1 9.8 0 5.4-3.4 9.6-9.1 9.6 -5.7 0-9.1-4.3-9.1-9.6C476.2 90.1 479.6 85.8 485.4 85.8zM485.4 101.8c3.7 0 5-3.1 5-6.2 0-3.3-1.4-6.4-5-6.4 -3.7 0-5 3.1-5 6.4C480.3 98.7 481.7 101.8 485.4 101.8zM497.3 86.2h8.4c4.7 0 6.4 2.9 6.4 6 0 3-1.8 6-6.4 6h-4.3v6.7h-4.1V86.2zM501.4 95h3.2c1.9 0 3.6-0.4 3.6-2.8 0-2.4-1.7-2.8-3.6-2.8h-3.2V95zM514.6 86.2h13.9v3.4h-9.8v4h9v3.2h-9v4.6h10v3.4h-14.1V86.2zM531.5 86.2h10c3.3 0 5.4 2.3 5.4 5.1 0 2.2-0.9 3.8-2.9 4.7v0.1c2 0.5 2.6 2.4 2.7 4.3 0.1 1.2 0 3.4 0.8 4.4h-4.1c-0.5-1.2-0.4-3-0.7-4.4 -0.3-2-1-2.8-3.1-2.8h-4.1v7.3h-4.1V86.2zM535.5 94.6h4.5c1.8 0 2.8-0.8 2.8-2.7 0-1.8-1-2.6-2.8-2.6h-4.5V94.6zM555.3 86.2h4.2l6.9 18.6h-4.2l-1.4-4.1h-6.9l-1.5 4.1h-4.1L555.3 86.2zM554.9 97.6h4.8l-2.3-6.8h-0.1L554.9 97.6zM572.2 89.7h-5.6v-3.4h15.2v3.4h-5.6v15.1h-4.1V89.7zM583.9 86.2h4.1v18.6h-4.1V86.2zM599.9 85.8c5.7 0 9.1 4.3 9.1 9.8 0 5.4-3.4 9.6-9.1 9.6 -5.7 0-9.1-4.3-9.1-9.6C590.8 90.1 594.2 85.8 599.9 85.8zM599.9 101.8c3.7 0 5-3.1 5-6.2 0-3.3-1.4-6.4-5-6.4s-5 3.1-5 6.4C594.9 98.7 596.3 101.8 599.9 101.8zM611.8 86.2h4.1l7.7 12.5h0.1V86.2h3.8v18.6h-4.1l-7.7-12.4h-0.1v12.4h-3.8V86.2zM633.9 98.6c0 2.5 1.9 3.4 4.1 3.4 1.4 0 3.6-0.4 3.6-2.3 0-2-2.8-2.3-5.5-3.1 -2.8-0.7-5.5-1.8-5.5-5.3 0-3.8 3.6-5.6 6.9-5.6 3.9 0 7.4 1.7 7.4 6h-4c-0.1-2.2-1.7-2.8-3.7-2.8 -1.3 0-2.8 0.5-2.8 2.1 0 1.4 0.9 1.6 5.5 2.8 1.4 0.3 5.5 1.2 5.5 5.4 0 3.4-2.7 6-7.7 6 -4.1 0-8-2-7.9-6.6H633.9z"/><path class="st0" d="M409 12.4h-3v-1.8h8.2v1.8h-3v8.2H409V12.4zM415.3 10.6h3.1l2.3 6.9h0l2.2-6.9h3.1v10h-2.1v-7.1h0l-2.5 7.1h-1.7l-2.5-7h0v7h-2.1V10.6z"/><path class="st0" d="M157.9 12C157.8 12 157.8 12 157.9 12c-0.1 0-0.2 0-0.2-0.1 -0.1 0-0.3-0.1-0.4-0.1l0 0c-1.9-0.3-3.5 0.2-3.8 1.4 -0.3 1.3 1.1 2.7 3.1 3.3v0c14.6 5.1 25 19 25 35.3 0 20.7-16.8 37.5-37.5 37.5 -20.7 0-37.5-16.8-37.5-37.5 0-16.3 10.4-30.2 25-35.3l0 0 0 0c2-0.6 3.4-2 3.1-3.3 -0.3-1.2-2.3-1.8-4.4-1.2 -0.2 0.1-0.4 0.1-0.6 0.2 -21.6 5.9-36.2 24.9-36.2 47.2v0.3c0 27.1 21.1 48.9 50.4 48.9 29.4 0 50.7-22.2 50.7-49.2v-0.3C194.6 36.6 179.9 17.7 157.9 12zM359.2 12C359.2 12 359.1 12 359.2 12c-0.1 0-0.2 0-0.2-0.1 -0.1 0-0.3-0.1-0.4-0.1l0 0c-1.9-0.3-3.5 0.2-3.8 1.4 -0.3 1.3 1.1 2.7 3.1 3.3v0c14.6 5.1 25 19 25 35.3 0 20.7-16.8 37.5-37.5 37.5 -20.7 0-37.5-16.8-37.5-37.5 0-16.3 10.4-30.2 25-35.3l0 0 0 0c2-0.6 3.4-2 3.1-3.3 -0.3-1.2-2.3-1.8-4.4-1.2 -0.2 0.1-0.4 0.1-0.6 0.2 -21.6 5.9-36.2 24.9-36.2 47.2v0.3c0 27.1 21.1 48.9 50.4 48.9 29.4 0 50.7-22.2 50.7-49.2v-0.3C396 36.6 381.2 17.7 359.2 12z"/>
      </svg>
    </a><!-- end of toro-io-heading -->
  </div><!-- end of .toro-io watermark -->


  <div class="reveal">
    <div class="slides">

      <!-- Page 0 -->
      <section data-state="blur-on">
        <h1>Single-Page Application using AngularJs</h1>
        <h4>
          HTML5 Presentation Framework powered by
          <a href="https://github.com/hakimel/reveal.js">reveal.js</a>
        </h4>
        <p>
          <small>Presented By Mykel Ray Perez</small><br>
          <a href="#" target="_blank"><i class="ion-social-github"></i></a> &nbsp;
          <a href="#" target="_blank"><i class="ion-social-twitter"></i></a> &nbsp;
          <a href="#" target="_blank"><i class="ion-social-codepen"></i></a> &nbsp;
        </p>
      </section>
			<!-- end of page 0 -->

			<!-- Page 1 -->
      <section>
				<section>
					<h2>What is a Single-Page App?</h2>
					<p class="fragment">Loads a single HTML page</p>
					<p class="fragment">Dynamically update that page as the user interacts</p>
				</section>
				<section>
					<h2>Traditional Lifecycle</h2>
					<img src="assets/traditional-lifecycle.png"/>
				</section>
				<section>
					<h2>SPA Lifecycle</h2>
					<img src="assets/spa-lifecycle.png"/>
				</section>
      </section>
			<!-- end of page 1 -->

			<!-- Page 2 -->
			<section>
				<h2>Why use SPA?</h2>
				<p class="fragment">Reduced server load</p>
				<p class="fragment">Applications are more fluid and responsive</p>
				<p class="fragment">Separation of presentation and application logic</p>
			</section>
			<!-- end of page 2 -->

			<!-- Page 3 -->
			<section>
				<h2>Development Directory Structure</h2>
				<img src="assets/directory-structure.png" width="300"/>
			</section>
			<!-- end of page 3 -->

			<!-- Page 4 -->
			<section>
				<h4>app.js</h2>
				<pre>
					<code class="hljs" contenteditable="" data-trim="">
(function () {
  'use strict'

  angular
    .module('app', [
      'ui.router',
      'ngCookies'
    ])

})()
					</code>
				</pre>
				<h4>index.html</h2>
				<pre>
					<code class="hljs" contenteditable="" data-trim="">
&lt;html ng-app="app" ng-controller="AuthCtr as auth"&gt;
					</code>
				</pre>
			</section>
			<!-- end of page 4 -->

			<!-- Page 5 -->
			<section>
				<section>
					<h4>router.js : $stateProvider</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
$stateProvider
  .state('app', {
    url: '/',
    abstract: true,
    views: {
      '': {
        template: ''
      }
    }
  })
						</code>
					</pre>
					<h4>index.html</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
<ui-view></ui-view>
						</code>
					</pre>
				</section>

				<section>
					<h4>router.js : app state</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
$stateProvider
  .state('app', {
    url: '/',
    abstract: true,
    views: {
      '': {
        template: `
          <header ui-view="header"></header>
          <div ui-view="content"></div>
        `
      }
    }
  })
						</code>
					</pre>
					<h4>index.html</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
<ui-view>
  <header ui-view="header"></header>
  <div ui-view="content"></div>
</ui-view>
						</code>
					</pre>
				</section>

			</section>
			<!-- end of page 5 -->

			<!-- Page 6 -->
			<section>
				<section>
					<h4>router.js : default state</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
.state('app.default', {
  url: '',
  views: {
    'header@app': {
      template: '<app-header></app-header>'
    },
    'content@app': {
      template: '<app-blogs></app-blogs>',
    }
  }
})
						</code>
					</pre>
				</section>

				<section>
					<h4>index.html</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
<ui-view>
  <header ui-view="header"></header>
  <div ui-view="content"></div>
</ui-view>
						</code>
					</pre>

					<h4>index.html if url is "/"</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
<ui-view>

  <header ui-view="header">
    <app-header></app-header>
  </header>

  <div ui-view="content">
    <app-blogs></app-blogs>
  </div>

</ui-view>
						</code>
					</pre>
				</section>
			</section>
			<!-- end of page 6 -->

			<!-- Page 7 -->
			<section>
				<h4>directive: header.js</h4>
				<pre>
					<code class="hljs" contenteditable="" data-trim="">
angular
  .module('app')
  .directive('appHeader', HeaderDirective)

  function HeaderDirective () {
    let directive = {
      scope:       true,
      templateUrl: '/app/views/header.html'
    }

    return directive
  }
					</code>
				</pre>
				<h4>header.html</h4>
				<pre>
					<code class="hljs" contenteditable="" data-trim="">
<ul ng-if="!auth.currentUser">
  <!-- items to show if `currentUser` is not available -->
</ul>

<ul ng-if="auth.currentUser">
  <!-- items to show if `currentUser` is available -->
</ul>
					</code>
				</pre>
			</section>
			<!-- end of page 7 -->

			<!-- Page 8 -->
			<section>
				<section>
					<h4>controller : auth.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
angular
  .module('app')
  .controller('AuthCtrl', AuthController)

AuthController.$inject = [
  '$scope',
  'context'
]

function AuthController ($scope, userContext) {
  let auth = this
  auth.currentUser = userContext.getCurrentUser()
}
						</code>
					</pre>
				</section>
				<section>
					<h4>service - user.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="" style="max-height: 520px;">
angular
  .module('app')
  .service('context', Context)

Context.$inject = ['$cookies']

function Context ($cookies) {
  return {
    currentSession: null,
    setCookies (context) {
      for (var obj in context) {
        $cookies.put(obj, context[obj], {path: '/'})
      }
    },
    setCurrentUser (data) {
      return (data && Object.keys(data).length > 0) ?
        this.setCookies(data) : null
    },
    getCurrentUser () {
      return (Object.keys($cookies.getAll()).length > 0) ?
        Object.assign({}, {
          username: $cookies.get('username'),
          token: $cookies.get('token'),
        }) : null
    }
  }
}
						</code>
					</pre>
				</section>
			</section>
			<!-- end of page 8 -->

			<!-- Page 9 -->
			<section>
				<section>
					<h4>router.js : login state</h4>
					<pre>
					<code class="hljs" contenteditable="" data-trim="">
.state('app.login', {
  url: 'admin/login',
  views: {
    'content@app': {
      template: '<user-login></user-login>'
    }
  }
})
						</code>
					</pre>
				</section>

				<section>
					<h4>directive : login.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
angular
  .module('app')
  .directive('userLogin', UserLogin)

  function UserLogin () {
    let directive = {
      scope:        true,
      templateUrl:  '/app/views/login.html',
      controller:   UserLoginController,
      controllerAs: 'login',
      bindToController: true
    }

    return directive
  }
						</code>
						<code class="hljs" contenteditable="" data-trim="">
UserLoginController.$inject = [
  '$rootScope',
  '$state',
  'api',
  'context'
]
						</code>
					</pre>
				</section>

				<section>
					<h4>controller : login.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="" style="max-height: 475px;">
function UserLoginController ($rootScope, $state, api, userContext) {
  let login = this

  this.userLogin = function() {
    api.login(login.currentUser).then( function(data) {
      if ( data.hasOwnProperty('token') ) {
        userContext.setCurrentUser( Object.assign({
          username: login.currentUser.username
        }, data ))

        return $state.go('app.default')
      }
    }, function(error) {
      this.userInvalid()
    })
    return true
  }

  this.userInvalid = function() {
    login.alert = true
    return false
  }
}
						</code>
					</pre>
				</section>
			</section>
			<!-- end of page 9 -->

			<!-- Page 10 -->
			<section>
				<section>
					<h4>factory - api.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
angular
  .module('app')
  .factory('api', ApiFactory)

ApiFactory.$inject = [
  '$rootScope',
  '$http',
  '$q',
  '$state',
  'context'
]
						</code>
					</pre>
				</section>

				<section style="padding-top: 0;">
					<h4 style="margin-bottom: 0;">factory - api.js</h4>
					<pre style="margin-top: 0;">
						<code class="hljs" contenteditable="" data-trim="" style="max-height: 646px;">
function ApiFactory ($rootScope, $http, $q, $state, userContext) {
  let baseurl = 'http://127.0.0.1:8080/api/'
  let user = userContext.getCurrentUser()
  let headers = {
    'Content-Type': 'application/json',
    'Authorization': ( user && user.token) ? 'Bearer ' + user.token : undefined
  }

  this.login = function(credentials) {
    return execute( $http.post( baseurl + 'login', credentials, headers) )
  }

  function execute(request) {
    return ( request.then(handleSuccess, handleError) )
  }

  function handleSuccess(response) {
    return response.data
  }

  function handleError(error) {
    if ( error.status === 401 ) {
      $state.go('app.login')
      return $q.reject(error)
    } else {
      return $q.reject(error)
    }
  }

  return this
}
						</code>
					</pre>
				</section>
			</section>
			<!-- end of page 10 -->

			<!-- Page 11 -->
			<section>
				<section>
					<h4>directive : blogs.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
angular
  .module('app')
  .directive('appBlogs', appBlogs)

  function appBlogs () {
    let directive = {
      scope:        true,
      templateUrl:  '/app/views/login.html',
      controller:   BlogsCtrl,
      controllerAs: 'blogs'
    }

    return directive
  }
						</code>
						<code class="hljs" contenteditable="" data-trim="">
BlogsCtrl.$inject = [
  'api'
]
						</code>
					</pre>
				</section>
				<section>
					<h4>controller : blogs.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
function BlogsCtrl ($scope, api) {
  let blog = this

  api.getBlogs().then( function(data) {
    blog.alert = false
    blog.data = data
  }, function(error) {
    blog.alert = true
  })
}
						</code>
					</pre>
				</section>

				<section>
					<h4>Sample response data</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
[
  {
    "id":1,
    "title":"Blog Post 1",
    "content":"sample content"
  },
  {
    "id":2,
    "title":"Blog Post 2",
    "content":"sample content"
  }
]
						</code>
					</pre>
					<h4>blogs.html</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
<div ng-repeat="blog in blogs.data">
  <h3 class="blog-title">{{ blog.title }}</h3>
  <p class="blog-content">{{ blog.content }}</p>
  <a href="/view/{{ blog.id }}" >View blog post</a>
</div>
						</code>
					</pre>
				</section>
				<section>
					<h4>blogs.html</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
<h3 class="blog-title">Blog Post 1</h3>
<p class="blog-content">sample content</p>
<a href="/view/1" >View blog post</a>

<h3 class="blog-title">Blog Post 2</h3>
<p class="blog-content">sample content</p>
<a href="/view/2" >View blog post</a>
						</code>
					</pre>
				</section>
			</section>
			<!-- end of page 11 -->

			<!-- Page 12 -->
			<section>
				<section>
					<h4>router.js : post state</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
.state('app.post', {
  url: 'post',
  views: {
    'header@app': {
      template: '<app-header/></app-header>'
    },
    'content@app': {
      template: '<app-post-blog></app-post-blog>'
    }
  }
})
						</code>
					</pre>
				</section>

				<section>
					<h4>directive : post-blog.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
angular
  .module('app')
  .directive('appPostBlog', appPostBlog)

  function appPostBlog () {
    let directive = {
      templateUrl:  '/app/views/post-blog.html',
      controller:   PostBlogCtrl,
      controllerAs: 'post'
    }

    return directive
  }
						</code>
						<code>
PostBlogCtrl.$inject = [
  '$state',
  'api'
]
						</code>
					</pre>
				</section>

				<section>
					<h4>controller : post-blog.js</h4>
					<section>
						<pre>
							<code class="hljs" contenteditable="" data-trim="">
function PostBlogCtrl ($state, api) {
  let post = this

  post.newBlog = {
    title: '',
    content: ''
  }

  post.postBlog = function() {
    api.postBlog(post.newBlog).then( function(data) {
      return $state.go('app.default')
    }, function(error) {
      post.alert = true
    })
  }
}
							</code>
						</pre>
					</section>
				</section>
			</section>
			<!-- end of page 12 -->

			<!-- Page 13 -->
			<section>
				<section>
					<h4>router.js : view state</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
.state('app.view', {
  url: 'view/:id',
  views: {
    'header@app': {
      template: '<app-header></app-header>'
    },
    'content@app': {
      template: '<app-blogs></app-blogs>'
    }
  }
})
						</code>
					</pre>
				</section>

				<section>
					<h4>directive : get-blog.js</h4>
					<pre>
						<code class="hljs" contenteditable="" data-trim="">
angular
  .module('app')
  .directive('appBlogs', appBlogs)

  function appBlogs () {
    let directive = {
      scope:        true,
      templateUrl:  '/app/views/login.html',
      controller:   BlogsCtrl,
      controllerAs: 'blogs'
    }

    return directive
  }
						</code>
						<code>
BlogsCtrl.$inject = [
  '$state',
  'api'
]
						</code>
					</pre>
				</section>

				<section>
					<h4>controller : get-blog.js</h4>
					<section>
						<pre>
							<code class="hljs" contenteditable="" data-trim="" style="max-height: 610px;">
function BlogsCtrl ($state, api) {
  let blog = this
  blog.blogId = $state.params.id

  api.getBlog(blog.blogId).then( function(data) {
    blog.blog = data
  }, function(error) {
    return $state.go('app.default')
  })

  blog.editEntry (content) {
    api.postBlog(content).then( function(data) {
      blog.alert = {
        success: true,
        message: 'Successfully saved'
      }
    }, function(error) {
      blog.alert = {
        success: false,
        message: 'Something Went Wrong...' + error
      }
    })
  }

  blog.deleteBlog = function() {
    api.deleteBlog(blog.blogId).then( function(data) {
      return $state.go('app.default')
    }, function(error) {
      blog.alert = true
    })
  }
}
							</code>
						</pre>
					</section>
				</section>
			</section>
			<!-- end of page 13 -->

			<!-- Page 14 -->
			<section>
				<h4>router.js : logout state</h4>
				<section>
					<pre>
						<code class="hljs" contenteditable="" data-trim="" style="max-height: 420px;">
.state('app.logout', {
  url: 'logout',
  views: {
    'content@app': {
      template: '',
      controller: [
        '$rootScope',
        '$cookies',
        '$state',
        '$timeout',
        'context',
        function($rootScope, $cookies, $state, $timeout, userContext) {
          $cookies.remove('username', {path: '/'})
          $cookies.remove('token', {path: '/'})
          userContext.setCurrentUser(null)
          $rootScope.$emit('auth::setUser')
          $state.go('app.login', {reload: true})
        }]
    }
  }
})
						</code>
					</pre>
				</section>
			</section>
			<!-- end of page 14 -->

			<!-- Hands on -->
			<section>
				<h2>HANDS ON</h2>
				<h4>Add a footer</h4>
				<ul>
					<li style="margin-top: 20px;">Add a footer state on router.js</li>
					<li style="margin-top: 20px;">Create the footer directive on src/javascript/directives/footer.js file</li>
					<li style="margin-top: 20px;">Create the template</li>
					<li style="margin-top: 20px;">
						Optional - Apply css<br>
						Run `gulp develop --sass` on your terminal/console<br>
						Add css rules on src/sass/_modifiers.scss
					</li>
				</ul>
			</section>
			<!-- end of hands on -->


    </div><!-- end of .slides -->
  </div><!-- end of .reveal -->





  <script src="/controldeck/reveal.js/lib/js/head.min.js"></script>
	<script src="/controldeck/reveal.js/js/reveal.js"></script>
	<script src="/controldeck/app.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script src="/controldeck/deck.js"></script>

</body>
</html>
